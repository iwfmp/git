#!/bin/bash

# Install program and dependencies, if doesn't yet exist.
evnDependencies="git-core git-flow"
for evnDependency in $evnDependencies; do
	if [[ -z `command -v ${evnDependency}` ]]; then
		sudo apt-get install -y ${evnDependency}
	fi
done

cd /usr/local/src/
sudo git clone https://github.com/jonas/tig.git
cd tig
sudo ./autogen.sh && sudo ./configure && sudo make && sudo make clean install

sudo ln -s $PWD/tig /usr/bin/tig

# Link configurations
ln -s $HOME/.git.d/init/.gitconfig $HOME/
ln -s $HOME/.git.d/init/.tigrc $HOME/

# add this to .zshrc: "source $HOME/.git-flow-completion.zsh"